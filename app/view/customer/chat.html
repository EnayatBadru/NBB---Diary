<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../assets/css/default.css">
    <link rel="stylesheet" href="../../assets/css/chatStyle.css">
    <link rel="shortcut icon" href="../../assets/img/logo.png" type="image/x-icon">
    <title>NBB - Diary || CHAT</title>
</head>

<body class="active">
    <header id="header">
        <div class="buttonHeader">
            <button type="button" class="buttonBack" id="backIndex" aria-label="Voltar">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="25" height="25" class="arrowLeft icon">
                    <path d="M15.5 19l-7-7 7-7" stroke="#1d2b3a" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>

        <div class="userProfile">
            <button type="button" class="imgProfile" aria-label="Alterar foto de perfil">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="50" height="50">
                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" fill="#1d2b3a"/>
                </svg>
            </button>
            <div class="textProfile">
                <h2 class="userName">Carregando...</h2>
                <span class="userEmail">carregando@email.com</span>
                <!-- <div class="statusContainer">
                    <span class="onlineStatus" style="width: 10px; height: 10px; border-radius: 50%; background-color: #ccc; margin-left: 10px;"></span>
                    <span class="statusText"></span>
                </div> -->
            </div>
        </div>
    </header>

    <!-- Input para alteração da foto de perfil (oculto) -->
    <input type="file" id="profilePhoto" accept="image/*" style="display: none;">

    <div class="containerActivity">
        <section class="containerUserChat">
            <h2 class="title">Conversas</h2>
            <div class="container__settingChat">
                <input type="text" name="searchUser" class="searchChatUser" id="searchUser" placeholder="Procurar usuário...">
                <button type="button" class="clearSearchButton" style="display: none;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="15" y1="9" x2="9" y2="15"></line>
                        <line x1="9" y1="9" x2="15" y2="15"></line>
                    </svg>
                </button>
            </div>
            <div class="createThings">
                <button type="button" class="createGroup" aria-label="Criar grupo">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">
                        <path d="M9 13c2.33 0 4.67.67 7 2v-2c0-1.11-.89-2-2-2h-2c-.31-.65-.5-1.37-.5-2 0-2.21 1.79-4 4-4s4 1.79 4 4c0 .63-.15 1.29-.5 2h.5c1.1 0 2 .9 2 2v2c1.38-.88 2-1.34 2-2.5V10c0-1.1-.9-2-2-2h-1.17C20 6.45 17.95 5 15.5 5c-1.95 0-3.66 1.11-4.5 2.75C10.17 6.68 9.15 6 8 6c-2.21 0-4 1.79-4 4 0 .63.15 1.29.5 2H4c-1.1 0-2 .9-2 2v2c0 1.16.62 1.62 2 2.5v-2c0-1.11-.89-2-2-2h.5c-.35-.71-.5-1.37-.5-2 0-2.21 1.79-4 4-4s4 1.79 4 4c0 .63-.15 1.37-.5 2h-2c-1.11 0-2 .89-2 2v2c2.33-1.33 4.67-2 7-2z" fill="#1d2b3a"/>
                    </svg>
                </button>
                <button type="button" class="createChat" aria-label="Nova conversa">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">
                        <path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z" fill="#1d2b3a"/>
                    </svg>
                </button>
            </div>
            <nav id="nav">
                <ul id="menu">
                    <!-- Os contatos serão carregados dinamicamente aqui -->
                    <li class="chat-loading">
                        <div class="list loading-item">
                            <div class="loading-animation" style="width: 100%; height: 60px; display: flex; align-items: center; justify-content: center;">
                                <div class="loading-spinner"></div>
                                <span style="margin-left: 10px; color: #00dfc4;">Carregando conversas...</span>
                            </div>
                        </div>
                    </li>
                </ul>
            </nav>
        </section>

        <section id="containerMain">
            <main id="main" class="active">
                <div class="notSelectedMensages">
                    <div class="mainNotSelectedMensages">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="200" height="200">
                                <circle cx="100" cy="100" r="90" fill="none" stroke="#00dfc4" stroke-width="10"/>
                                <text x="100" y="120" font-size="70" text-anchor="middle" fill="#00dfc4" font-family="Arial, sans-serif">NBB</text>
                            </svg>
                        </div>
                        <h2 class="title__notSelectedMensages">NBB - Diary</h2>
                        <p class="text__NotSelectedMensages">
                            Selecione uma conversa ao lado ou crie uma nova para começar a interagir.
                            Você pode conversar com profissionais e outros usuários para melhorar seu controle emocional.
                        </p>
                    </div>
                    <div class="footerNotSelectedMensages">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="15" height="15">
                            <rect x="4" y="9" width="16" height="12" rx="2" fill="#00dfc4" />
                            <path d="M6 10V7a6 6 0 0 1 12 0v3" fill="none" stroke="#00dfc4" stroke-width="2" />
                        </svg>
                        <span class="criptografia">Encriptada ponto a ponto</span>
                    </div>
                </div>

                <div class="SelectedMensages" style="display: none;">
                    <div class="headerMensages">
                        <div class="left">
                            <button class="backButtonMensages">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="25" height="25" class="arrowLeft icon">
                                    <path d="M15.5 19l-7-7 7-7" stroke="#00dfc4" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                        <div class="right">
                            <div class="userProfileMensages">
                                <button class="ProfileMensagesPic">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="35" height="35" class="userProfile">
                                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" fill="#00dfc4"/>
                                    </svg>
                                </button>
                                <div class="userInfoMensages">
                                    <span class="nameUserMensages">Selecione um contato</span>
                                    <div class="userStatusContainer">
                                        <span class="userStatusMensages"></span>
                                        <span class="userStatusText">Offline</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <ul class="mainSelectedMensages">
                        <!-- As mensagens serão carregadas dinamicamente aqui -->
                        <li class="messages-placeholder" style="display: flex; justify-content: center; align-items: center; height: 100%;">
                            <div style="text-align: center; color: #00dfc4; opacity: 0.6;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                                </svg>
                                <p>Selecione uma conversa para começar</p>
                            </div>
                        </li>
                    </ul>
                    
                    <div class="typingIndicator">
                        <div class="typingDots">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                        <span class="typingText"></span>
                    </div>
                    
                    <div class="containerInput">
                        <div class="footerSelectedMensages">
                            <div class="containerIconsMensages">
                                <button type="button" class="attachButton" aria-label="Anexar arquivo">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">
                                        <path d="M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z" fill="#00dfc4"/>
                                    </svg>
                                </button>
                                <button type="button" class="emojiButton" aria-label="Emojis">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">
                                        <circle cx="12" cy="12" r="10" stroke="#00dfc4" stroke-width="2" fill="none"/>
                                        <circle cx="8.5" cy="9.5" r="1.5" fill="#00dfc4"/>
                                        <circle cx="15.5" cy="9.5" r="1.5" fill="#00dfc4"/>
                                        <path d="M7.5 14.5c1.5 2 4.5 2.5 9 0" stroke="#00dfc4" stroke-width="1.5" fill="none" stroke-linecap="round"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="inputContentMensages">
                                <input type="text" class="messageInput" placeholder="Digite uma mensagem..." disabled>
                            </div>
                            <div class="voiceContentMensages">
                                <button type="button" class="sendButton" aria-label="Enviar mensagem">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18">
                                        <path d="M2 21l21-9L2 3v7l15 2-15 2v7z" fill="#1d2b3a"/>
                                    </svg>
                                </button>
                                <button type="button" class="voiceButton" aria-label="Mensagem de voz">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18">
                                        <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z" fill="#1d2b3a"/>
                                        <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z" fill="#1d2b3a"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </section>
    </div>

    <!-- Modals -->
    <div id="modalsContainer"></div>

    <!-- Notification Sound -->
    <!-- <audio id="notificationSound" src="../../assets/sounds/notification.mp3" preload="auto"></audio> -->

    <!-- Scripts -->
    <script type="module" src="../../assets/js/popup.js"></script>
    <script type="module" src="../../assets/js/chatScript.js"></script>
</body>

</html>